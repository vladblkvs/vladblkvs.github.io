class Coords{constructor(t,e){this.x=t,this.y=e}}const onСontactStart=function(t,e){null!==e.startAction&&e.startAction();const o=new Coords(t.clientX,t.clientY);let n=!1;const i=function(t){n=!0,"touchmove"===t.type&&(document.body.classList.add("no-refresh"),t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY);const i=new Coords(o.x-t.clientX,o.y-t.clientY);o.x=t.clientX,o.y=t.clientY;const s=new Coords(e.container.offsetLeft-i.x,e.container.offsetTop-i.y);s.x>=-e.left&&s.x<=e.right&&(e.container.style.left=s.x+"px"),s.y>=-e.top&&s.y<=e.bottom&&(e.container.style.top=s.y+"px"),null!==e.moveAction&&e.moveAction()},s=function(t){if(document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",s),n){if("mouseup"===t.type){const t=function(o){o.preventDefault(),e.el.removeEventListener("click",t)};e.el.addEventListener("click",t)}null!==e.finalAction&&e.finalAction()}document.body.classList.remove("no-refresh")};"touchstart"===t.type?(document.addEventListener("touchmove",i,{passive:!0}),document.addEventListener("touchend",s,{passive:!0})):"mousedown"===t.type&&(document.addEventListener("mousemove",i),document.addEventListener("mouseup",s))};export class Drag{constructor(t){this.el=this._getOption(t.el),this.container=this._getOption(t.container),this.left=this._getOption(t.left),this.right=this._getOption(t.right),this.top=this._getOption(t.top),this.bottom=this._getOption(t.bottom),this.startAction=this._getOption(t.startAction),this.moveAction=this._getOption(t.moveAction),this.finalAction=this._getOption(t.finalAction)}onEvent(t){"touchstart"===t.type?document.body.classList.add("no-refresh"):"mousedown"===t.type&&t.preventDefault(),onСontactStart(t,this)}_getOption(t){return void 0===t&&(t=null),t}}