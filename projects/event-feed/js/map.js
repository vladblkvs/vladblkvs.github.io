import{data}from"./data.js";const mapSection=document.querySelector(".map"),initMap=function(){const e=window.google,t=new e.maps.Map(document.querySelector(".map__google"),{zoom:4.78,center:{lat:46.8532955,lng:.8684862}}),i=[{elementType:"geometry",stylers:[{color:"#333333"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#737373"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#999999"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#484848"},{weight:.1}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#1d1d1d"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]}];t.setOptions({styles:i});const o={url:"img/icon-map-location-marker.svg",scaledSize:new e.maps.Size(18,18)},s={url:"img/icon-map-location-marker-focus.svg",scaledSize:new e.maps.Size(18,18)},a={url:"img/icon-map-location-marker-active.svg",scaledSize:new e.maps.Size(18,18)},r=mapSection.querySelector(".map__inner"),l=document.querySelector("#map-marker-a11y-template").content.querySelector(".map__marker");data.mapMarkers.forEach(i=>{!function(i){const n=new e.maps.Marker({position:{lat:i.lat,lng:i.lng},map:t,icon:o});n.position.country=i.country,n.position.city=i.city,n.addListener("click",(function(){n.setIcon(a),window.receiveLocalFeed(n),setTimeout(()=>{n.setIcon(o)},500)})),n.addListener("mouseover",(function(){n.setIcon(s);const t=function(){n.setIcon(o),e.maps.event.clearListeners("mouseout",t)};n.addListener("mouseout",t)}));const c=l.cloneNode(!0);c.textContent=i.city+", "+i.country,r.appendChild(c),c.addEventListener("focus",()=>{n.setIcon(s);const e=function(){window.receiveLocalFeed(n)};c.addEventListener("click",e);const t=function(){c.removeEventListener("click",e),n.setIcon(o),c.removeEventListener("blur",t)};c.addEventListener("blur",t)})}(i)})},script=document.createElement("script");script.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAvMu0zHq9RZh_6OJBRk9_UWrFJ7755J2s&language=en&callback=initMap",script.defer=!0;export const activateMap=function(){document.head.appendChild(script),window.initMap=initMap};